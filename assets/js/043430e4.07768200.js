"use strict";(globalThis.webpackChunkweb_music_score_org=globalThis.webpackChunkweb_music_score_org||[]).push([[3356],{1679(e,n,s){var i;s.d(n,{r:()=>j});var a=s(6540),t=s(1409),c=s(5690),r=s(3721),d=s(1978),l=s(8500),o=s(9041),h=s(4388),v=s(3774),m=s(2175),u=s(8478),x=s(4848);function j(e){const[n,j]=(0,a.useState)(e.code),p=n=>{e.onEdit&&e.onEdit(n),j(n),r.stop()};return(0,x.jsx)(u.A,{children:()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(t.Q,{language:"jsx",code:n.trim(),scope:{Core:c,Audio:r,AudioCG:d,AudioSynth:l,Score:o,Theory:h,Pieces:v,ReactUI:m,React:i||(i=s.t(a,2))},children:[(0,x.jsx)(t.w,{onChange:p}),(0,x.jsx)(t.p1,{}),(0,x.jsx)("br",{}),(0,x.jsx)(t.pA,{})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("p",{children:["\u2139\ufe0f Runs on ",(0,x.jsx)("code",{children:c.getLibInfo()}),"."]})]})})}},3029(e,n,s){s.d(n,{A:()=>t});var i=s(9842),a=s(4848);function t({children:e,icon:n}){return(0,a.jsx)(i.A,{icon:n??"\u26a0\ufe0f",children:e})}},5705(e,n,s){s.r(n),s.d(n,{assets:()=>v,contentTitle:()=>h,default:()=>x,frontMatter:()=>o,metadata:()=>i,toc:()=>m});const i=JSON.parse('{"id":"create-view/plain-js","title":"Plain JavaScript","description":"Create View","source":"@site/docs/060 - create-view/plain-js.md","sourceDirName":"060 - create-view","slug":"/create-view/plain-js","permalink":"/docs/create-view/plain-js","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":30,"frontMatter":{"sidebar_position":30},"sidebar":"docSidebar","previous":{"title":"Custom HTML Element","permalink":"/docs/create-view/custom-element"},"next":{"title":"JSX/TSX React","permalink":"/docs/create-view/react"}}');var a=s(4848),t=s(8453),c=s(8881),r=s(1679);var d=s(9842),l=s(3029);const o={sidebar_position:30},h="Plain JavaScript",v={},m=[{value:"Create View",id:"create-view",level:2},{value:"Set Canvas",id:"set-canvas",level:2},{value:"Using HTML",id:"using-html",level:3},{value:"Programmatically",id:"programmatically",level:3},{value:"Set Document",id:"set-document",level:2},{value:"Set Paint",id:"set-paint",level:2},{value:"Set Zoom",id:"set-zoom",level:3},{value:"Set Staff Size",id:"set-staff-size",level:3},{value:"Render",id:"render",level:2},{value:"Live Example",id:"live-example",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"plain-javascript",children:"Plain JavaScript"})}),"\n",(0,a.jsx)(n.h2,{id:"create-view",children:"Create View"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"const view = new Score.WmsView();\n"})}),"\n",(0,a.jsx)(c.U,{since:"6.1.0",from:"Score.MRenderContext",to:"Score.WmsView",simpleRename:!0}),"\n",(0,a.jsx)(n.h2,{id:"set-canvas",children:"Set Canvas"}),"\n",(0,a.jsx)(n.h3,{id:"using-html",children:"Using HTML"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<canvas id="canvasId"></canvas>\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'view.setCanvas("canvasId");\n'})}),"\n",(0,a.jsx)(d.A,{children:"Do not forget to append canvas somewhere!"}),"\n",(0,a.jsx)(n.h3,{id:"programmatically",children:"Programmatically"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'const canvas = document.createElement("canvas");\r\n\r\nview.setCanvas(canvas);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"set-document",children:"Set Document"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"view.setDocument(doc);\n"})}),"\n",(0,a.jsx)(n.h2,{id:"set-paint",children:"Set Paint"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"view.setPaint(paint);\n"})}),"\n",(0,a.jsx)(d.A,{children:"Paint is optional."}),"\n",(0,a.jsx)(n.h1,{id:"set-view-size",children:"Set View Size"}),"\n",(0,a.jsx)(n.p,{children:"There are two ways to affect view size: zoom and staff size."}),"\n",(0,a.jsx)(n.h3,{id:"set-zoom",children:"Set Zoom"}),"\n",(0,a.jsx)(n.p,{children:"Set zoom:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"view.setZoom(1.5);\n"})}),"\n",(0,a.jsxs)(d.A,{children:["Default zoom if omitted is ",(0,a.jsx)(n.code,{children:"1.0"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"set-staff-size",children:"Set Staff Size"}),"\n",(0,a.jsx)(n.p,{children:"Set view size with given distance between bottom and top staff lines:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'view.setStaffSize("40px");\n'})}),"\n",(0,a.jsx)(d.A,{children:"Default staff size is connected to default font size."}),"\n",(0,a.jsx)(l.A,{children:'Using units "cm", "mm", "in", etc. can give unpredictable result depending on device.'}),"\n",(0,a.jsx)(n.h2,{id:"render",children:"Render"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"view.draw();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"live-example",children:"Live Example"}),"\n",(0,a.jsx)(r.r,{code:'\nfunction ExampleCode() {\n    React.useEffect(() => {\n        const doc = new Score.DocumentBuilder()\n            .setScoreConfiguration("treble")\n            .setTimeSignature("3/4")\n            .addNote(0, ["C4", "E4", "G4"], "4n")\n            .addMeasure()\n            .addChord(0, ["C4", "E4", "G4"], "2.", { arpeggio: true })\n            .getDocument();\n\n        const paint = new Score.Paint();\n        paint.setColor("background", "#eee")\n\n        const view = new Score.WmsView();\n        \n        const canvas = document.getElementById("canvasId");\n\n        view.setCanvas(canvas);\n        view.setDocument(doc);\n        view.setPaint(paint);\n\n        view.draw();\n    }, []);\n\n    return (\n        <div id="divId">\n            <canvas id="canvasId"></canvas>\n        </div>\n    );\n}'}),"\n",(0,a.jsxs)(d.A,{children:["Use HTML/JS version without ",(0,a.jsx)("code",{children:"React.useEffect()"}),", just add HTML elements are before JS code."]})]})}function x(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},8881(e,n,s){s.d(n,{U:()=>c,r:()=>t});var i=s(4848);const a={change:"Change",deprecated:"Deprecated",breaking:"Breaking change"};function t({since:e,type:n="change",from:s,to:t,simpleRename:c}){return(0,i.jsxs)("blockquote",{children:[(0,i.jsxs)("strong",{children:[a[n]," (v",e,"):"]})," ",(0,i.jsx)("code",{children:t})," replaces ",(0,i.jsx)("code",{children:s}),".","deprecated"===n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsx)("code",{children:s})," is deprecated and will be removed in a future major release.",c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),"Existing code can be migrated by renaming ",(0,i.jsx)("code",{children:s})," to ",(0,i.jsx)("code",{children:t}),"."]})]})]})}function c(e){return(0,i.jsx)(t,{...e,type:"deprecated"})}},9842(e,n,s){s.d(n,{A:()=>d});s(6540);var i=s(4164);const a="hint_M8wi",t="icon_S8Po",c="content_vBYW";var r=s(4848);function d({children:e,icon:n}){return(0,r.jsxs)("div",{className:(0,i.A)(a),children:[(0,r.jsx)("span",{className:t,children:n??"\ud83d\udca1"}),(0,r.jsx)("div",{className:c,children:e})]})}}}]);