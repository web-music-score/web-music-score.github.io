"use strict";(globalThis.webpackChunkweb_music_score_org=globalThis.webpackChunkweb_music_score_org||[]).push([[684],{9941(n,e,d){d.r(e),d.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>A,frontMatter:()=>s,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"create-doc/add-annotation","title":"Add Annotation","description":"Planned for 6.4.x","source":"@site/docs/050 - create-doc/150-add-annotation.md","sourceDirName":"050 - create-doc","slug":"/create-doc/add-annotation","permalink":"/docs/create-doc/add-annotation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":150,"frontMatter":{"sidebar_position":150},"sidebar":"docSidebar","previous":{"title":"Add Lyrics","permalink":"/docs/create-doc/add-lyrics"},"next":{"title":"Add Navigation","permalink":"/docs/create-doc/add-navigation"}}');var o=d(4848),t=d(8453),r=d(1679);var i=d(9842);const s={sidebar_position:150},l="Add Annotation",c={},u=[{value:"Planned for 6.4.x",id:"planned-for-64x",level:2},{value:"6.3.x and Earlier",id:"63x-and-earlier",level:2},{value:"Live Example",id:"live-example",level:2}];function p(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"add-annotation",children:"Add Annotation"})}),"\n",(0,o.jsx)(e.h2,{id:"planned-for-64x",children:"Planned for 6.4.x"}),"\n",(0,o.jsx)(e.p,{children:"\u2139\ufe0f Available currently in 6.4.0-pre-releaes."}),"\n",(0,o.jsx)(e.p,{children:"Planned changes for 6.4.x are:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Make ",(0,o.jsx)(e.code,{children:"addAnnotation()"})," more future compatible by adding annotation options (last argument)."]}),"\n",(0,o.jsx)(e.li,{children:"More extensive list of known annotation kinds."}),"\n"]}),"\n",(0,o.jsxs)(i.A,{children:["See API Reference for ",(0,o.jsx)(e.code,{children:"Score.AnnotationGroup"})," for list of annotation groups."]}),"\n",(0,o.jsxs)(i.A,{children:["See API Reference for ",(0,o.jsx)(e.code,{children:"Score.AnnotationKind"})," for list of annotation kinds."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'// Add annotation from list of known annotation kinds.\r\nbuilder.addAnnotation("fff");\r\n// Add annotation to a specific annotation group\r\nbuilder.addAnnotation("accel.", { group "tempo" });\r\n\r\n// Add fermata\r\nbuilder.addAnnotation("fermata");\r\n// Add fermata over right bar line at measure end\r\nbuilder.addAnnotation("fermata", { anchor: "rightBarLine" });\r\n\r\n// Add label\r\nbuilder.addAnnotation("pitchLabel", "C4");\r\nbuilder.addAnnotation("chordLabel", "Am");\r\n\r\n// Add navigation\r\nbuilder.addAnnotation("D.C. al Fine");\r\nbuilder.addAnnotation("D.C. al Coda");\r\nbuilder.addAnnotation("D.S. al Fine");\r\nbuilder.addAnnotation("D.S. al Coda");\r\nbuilder.addAnnotation("Coda");\r\nbuilder.addAnnotation("toCoda");\r\nbuilder.addAnnotation("Segno");\r\nbuilder.addAnnotation("Fine");\r\nbuilder.addAnnotation("startRepeat");\r\nbuilder.addAnnotation("endRepeat", { repeatCount: 2 });\r\nbuilder.addAnnotation("ending", { endingPassages: [1, 2]});\n'})}),"\n",(0,o.jsx)(e.h2,{id:"63x-and-earlier",children:"6.3.x and Earlier"}),"\n",(0,o.jsx)(i.A,{children:"List of known annotation kinds is minimal."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'// These are the supported annotations in "dynamics" group\r\nbuilder.addAnnotation("fff");\r\nbuilder.addAnnotation("ff");\r\nbuilder.addAnnotation("f");\r\nbuilder.addAnnotation("mf");\r\nbuilder.addAnnotation("m");\r\nbuilder.addAnnotation("mp");\r\nbuilder.addAnnotation("p");\r\nbuilder.addAnnotation("pp");\r\nbuilder.addAnnotation("ppp");\r\nbuilder.addAnnotation("cresc.");\r\nbuilder.addAnnotation("decresc.");\r\nbuilder.addAnnotation("dim.");\r\n\r\n// These are the supported annotations in "tempo" group\r\nbuilder.addAnnotation("accel.");\r\nbuilder.addAnnotation("rit.");\r\nbuilder.addAnnotation("a tempo");\r\n\r\n// With the group (first argument) you can add any annotation text.\r\nbuilder.addAnnotation("dynamics", "Loud!");\r\nbuilder.addAnnotation("tempo", "Fast!");\n'})}),"\n",(0,o.jsxs)(e.p,{children:["See also ",(0,o.jsx)(e.a,{href:"./add-fermata",children:"Add Fermata"})," and ",(0,o.jsx)(e.a,{href:"./add-label",children:"Add Label"}),"."]}),"\n",(0,o.jsx)(e.h2,{id:"live-example",children:"Live Example"}),"\n",(0,o.jsx)(r.r,{code:'\nfunction ExampleCode() {\n    const doc = new Score.DocumentBuilder()\n        .setTempo(80)\n        .addNote(0, "C4", "4n").addAnnotation("fff")\n        .addNote(0, "E4", "4n")\n        .addNote(0, "G4", "4n").addAnnotation("ppp")\n        .addNote(0, "C4", "4n")\n        .addMeasure()\n        .addNote(0, "C4", "4n").addAnnotation("cresc.")\n        .addNote(0, "E4", "4n")\n        .addNote(0, "G4", "4n")\n        .addNote(0, "C4", "4n").addAnnotation("fff")\n        .endRow()\n\n        .addMeasure()\n        .addNote(0, "C4", "4n").addAnnotation("tempo", "accel.")\n        .addNote(0, "E4", "4n")\n        .addNote(0, "G4", "4n")\n        .addNote(0, "C4", "4n").addAnnotation("tempo", "a tempo")\n        .addMeasure()\n        .addNote(0, "C4", "4n").addAnnotation("tempo", "rit.")\n        .addNote(0, "E4", "4n")\n        .addNote(0, "G4", "4n")\n        .addNote(0, "C4", "4n").addAnnotation("tempo", "a tempo")\n        \n        .getDocument();\n\n    return <div>\n        <ReactUI.WmsControls doc={doc} playStopPause />\n        <br />\n        <ReactUI.WmsView doc={doc} />\n    </div>;\n}'})]})}function A(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(p,{...n})}):p(n)}},9842(n,e,d){d.d(e,{A:()=>s});d(6540);var a=d(4164);const o="hint_M8wi",t="icon_S8Po",r="content_vBYW";var i=d(4848);function s({children:n,icon:e}){return(0,i.jsxs)("div",{className:(0,a.A)(o),children:[(0,i.jsx)("span",{className:t,children:e??"\ud83d\udca1"}),(0,i.jsx)("div",{className:r,children:n})]})}},1679(n,e,d){var a;d.d(e,{r:()=>b});var o=d(6540),t=d(1409),r=d(5690),i=d(3721),s=d(1978),l=d(8500),c=d(9041),u=d(4388),p=d(3774),A=d(2175),h=d(8478),m=d(4848);function x(n){const[e,x]=o.useState(n.entry.code),b=e=>{n.onEdit&&n.onEdit(e),x(e),i.stop()};return(0,m.jsx)(h.A,{children:()=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t.Q,{language:"jsx",code:e,scope:{Core:r,Audio:i,AudioCG:s,AudioSynth:l,Score:c,Theory:u,Pieces:p,ReactUI:A,React:a||(a=d.t(o,2))},children:[(0,m.jsx)(t.w,{onChange:b}),(0,m.jsx)(t.p1,{}),(0,m.jsx)("br",{}),(0,m.jsx)(t.pA,{})]}),(0,m.jsx)("br",{}),(0,m.jsxs)("p",{children:["\u2139\ufe0f Runs on ",(0,m.jsx)("code",{children:r.getLibInfo()}),"."]})]})})}function b(n){const[e,d]=o.useState(0),a=(t=n.code,(Array.isArray(t)?t:[t]).map((n,e,d)=>{if("string"==typeof n){const a=d.length>1?"Example "+(e+1):"";return{name:a,code:""===a?n.trim():`// ${a}\n${n.trim()}`}}{const e=n.name.trim();return{name:e,code:""===e?n.code.trim():`// ${e}\n${n.code.trim()}`}}}));var t;const r=a[e];return(0,m.jsxs)(m.Fragment,{children:[a.length>1?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("select",{value:e,onChange:n=>d(Number(n.target.value)),className:"select",children:a.map((n,e)=>(0,m.jsx)("option",{value:e,children:n.name},e))}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{})]}):null,(0,m.jsx)(x,{entry:r},e)]})}}}]);