"use strict";(globalThis.webpackChunkweb_music_score_org=globalThis.webpackChunkweb_music_score_org||[]).push([[9045],{5122(e,r,n){n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>o,toc:()=>t});const o=JSON.parse('{"id":"create-doc/error-handling","title":"Error Handling","description":"Planned for 6.4.x","source":"@site/docs/050 - create-doc/250-error-handling.md","sourceDirName":"050 - create-doc","slug":"/create-doc/error-handling","permalink":"/docs/create-doc/error-handling","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":250,"frontMatter":{"sidebar_position":250},"sidebar":"docSidebar","previous":{"title":"Tab Fretting","permalink":"/docs/create-doc/tab-fretting"},"next":{"title":"Create View","permalink":"/docs/category/create-view"}}');var i=n(4848),c=n(8453),s=n(1679);const d={sidebar_position:250},l="Error Handling",a={},t=[{value:"Planned for 6.4.x",id:"planned-for-64x",level:2},{value:"6.3.x and Earlier",id:"63x-and-earlier",level:2},{value:"Live Example",id:"live-example",level:2}];function h(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"error-handling",children:"Error Handling"})}),"\n",(0,i.jsx)(r.h2,{id:"planned-for-64x",children:"Planned for 6.4.x"}),"\n",(0,i.jsx)(r.p,{children:"\u2139\ufe0f Available currently in 6.4.0-pre-releaes."}),"\n",(0,i.jsx)(r.p,{children:"You can set error handler for documentation builder."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",children:'// throw (default)\r\nbuilder.setErrorHandler((e) => { throw e; });\r\n// log\r\nbuilder.setErrorHandler((e) => { console.error("Doc build failed:", e); });\r\n// log and throw\r\nbuilder.setErrorHandler((e) => { console.error("Doc build failed:", e); throw e; });\r\n// Silent\r\nbuilder.setErrorHandler((e) => { });\n'})}),"\n",(0,i.jsxs)(r.p,{children:["There are separate error classes. They all derive from ",(0,i.jsx)(r.code,{children:"Core.MusicError"}),"."]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"Core.InvalidArgError"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"Audio.AudioError"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"Score.ScoreError"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"Theory.KeySignatureError"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"Theory.TimeSignatureError"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"Theory.NoteError"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"Theory.NoteDurationError"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"Theory.ScaleError"})}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"Catch errors."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",children:"try {\r\n    // Do your music stuff here.\r\n}\r\ncatch (e) {\r\n    if(e instanceof Core.MusicError) {\r\n        // Catch all errors.\r\n    }\r\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"63x-and-earlier",children:"6.3.x and Earlier"}),"\n",(0,i.jsx)(r.p,{children:"Catch errors."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",children:"try {\r\n    // Do your music stuff here.\r\n}\r\ncatch (e) {\r\n    if(e instanceof Core.MusicError) {\r\n        // Catch all music errors.\r\n    }\r\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"live-example",children:"Live Example"}),"\n",(0,i.jsx)(s.r,{code:'\nfunction ExampleCode() {\n    try {\n        const doc = new Score.DocumentBuilder()\n            .addNote(0, "E4", "2n")\n            .addNote(0, "E4", "2")  // Error!\n            .getDocument();\n\n        return <div>\n            <ReactUI.WmsControls doc={doc} playStopPause />\n            <br />\n            <ReactUI.WmsView doc={doc} />\n        </div>;\n    }\n    catch(e) {\n        return <div>\n            Caught error!<br />\n            {e.toString()}\n        </div>;\n    }\n}'})]})}function u(e={}){const{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},1679(e,r,n){var o;n.d(r,{r:()=>g});var i=n(6540),c=n(1409),s=n(5690),d=n(3721),l=n(1978),a=n(8500),t=n(9041),h=n(4388),u=n(3774),x=n(2175),j=n(8478),p=n(4848);function m(e){const[r,m]=i.useState(e.entry.code),g=r=>{e.onEdit&&e.onEdit(r),m(r),d.stop()};return(0,p.jsx)(j.A,{children:()=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(c.Q,{language:"jsx",code:r,scope:{Core:s,Audio:d,AudioCG:l,AudioSynth:a,Score:t,Theory:h,Pieces:u,ReactUI:x,React:o||(o=n.t(i,2))},children:[(0,p.jsx)(c.w,{onChange:g}),(0,p.jsx)(c.p1,{}),(0,p.jsx)("br",{}),(0,p.jsx)(c.pA,{})]}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:["\u2139\ufe0f Runs on ",(0,p.jsx)("code",{children:s.getLibInfo()}),"."]})]})})}function g(e){const[r,n]=i.useState(0),o=(c=e.code,(Array.isArray(c)?c:[c]).map((e,r,n)=>{if("string"==typeof e){const o=n.length>1?"Example "+(r+1):"";return{name:o,code:""===o?e.trim():`// ${o}\n${e.trim()}`}}{const r=e.name.trim();return{name:r,code:""===r?e.code.trim():`// ${r}\n${e.code.trim()}`}}}));var c;const s=o[r];return(0,p.jsxs)(p.Fragment,{children:[o.length>1?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("select",{value:r,onChange:e=>n(Number(e.target.value)),className:"select",children:o.map((e,r)=>(0,p.jsx)("option",{value:r,children:e.name},r))}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{})]}):null,(0,p.jsx)(m,{entry:s},r)]})}}}]);