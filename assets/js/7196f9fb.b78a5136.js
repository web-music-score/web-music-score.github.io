"use strict";(globalThis.webpackChunkweb_music_score_org=globalThis.webpackChunkweb_music_score_org||[]).push([[9533],{3984:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"readme-v5","title":"readme-v5","description":"This file is from Web Music Score 5 and offered here until this website is ready.","source":"@site/docs/readme-v5.md","sourceDirName":".","slug":"/readme-v5","permalink":"/docs/readme-v5","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Error Handling","permalink":"/docs/tutorial-score/error-handling"}}');var t=r(4848),i=r(8453);const d={sidebar_position:4},a=void 0,o={},l=[{value:"About",id:"about",level:2},{value:"Version 5 Update",id:"version-5-update",level:2},{value:"Help Wanted",id:"help-wanted",level:2},{value:"Installation",id:"installation",level:2},{value:"Import",id:"import",level:2},{value:"Browser Modules",id:"browser-modules",level:2},{value:"API",id:"api",level:2},{value:"Using <code>DocumentBuilder</code>",id:"using-documentbuilder",level:3},{value:"Set Score Configuration",id:"set-score-configuration",level:3},{value:"Using preset values",id:"using-preset-values",level:4},{value:"Using configuration objects",id:"using-configuration-objects",level:4},{value:"Set Automatic Measures Per Row",id:"set-automatic-measures-per-row",level:3},{value:"Set Header",id:"set-header",level:3},{value:"Add Measure",id:"add-measure",level:3},{value:"End Row",id:"end-row",level:3},{value:"Set Key Signature",id:"set-key-signature",level:3},{value:"Set Time Signature",id:"set-time-signature",level:3},{value:"Set Tempo",id:"set-tempo",level:3},{value:"Add Note",id:"add-note",level:3},{value:"Add Chord",id:"add-chord",level:3},{value:"Add Rest",id:"add-rest",level:3},{value:"Add Tuplet",id:"add-tuplet",level:3},{value:"Add Lyrics",id:"add-lyrics",level:3},{value:"Add Fermata",id:"add-fermata",level:3},{value:"Add Navigation",id:"add-navigation",level:3},{value:"Add Annotation",id:"add-annotation",level:3},{value:"Add Label",id:"add-label",level:3},{value:"Positioning Elements",id:"positioning-elements",level:3},{value:"Add Extension",id:"add-extension",level:3},{value:"Add Connective (tie, slur, slide)",id:"add-connective-tie-slur-slide",level:3},{value:"Guitar Tab",id:"guitar-tab",level:3},{value:"Beams",id:"beams",level:3},{value:"Instruments",id:"instruments",level:3},{value:"Play Document",id:"play-document",level:3},{value:"Viewing Using React JSX/TSX",id:"viewing-using-react-jsxtsx",level:3},{value:"Viewing Using Plain JS/TS",id:"viewing-using-plain-jsts",level:3},{value:"MusicError",id:"musicerror",level:3},{value:"Compatibility",id:"compatibility",level:2},{value:"Report a Bug",id:"report-a-bug",level:2},{value:"License",id:"license",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"This file is from Web Music Score 5 and offered here until this website is ready."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"web-music-score",children:"Web Music Score"}),"\n",(0,t.jsxs)(n.p,{children:["Homepage (docs, examples and demos): ",(0,t.jsx)(n.a,{href:"https://pahkasoft.github.io/web-music-score",children:"Web Music Score"})]}),"\n",(0,t.jsx)(n.h2,{id:"about",children:"About"}),"\n",(0,t.jsx)(n.p,{children:"This library allows you to view and play music scores (notation) in the browser."}),"\n",(0,t.jsx)(n.p,{children:"I'm not a professional musician. I began learning classical guitar on my own,\r\nlater taking lessons in classical guitar. I've also studied music theory independently."}),"\n",(0,t.jsx)(n.p,{children:"This is a work in progress project. Lately there has been improvements that required major\r\nversion update. As the project matures there might be less major updates, and more minor\r\nupdates and patches."}),"\n",(0,t.jsx)(n.h2,{id:"version-5-update",children:"Version 5 Update"}),"\n",(0,t.jsx)(n.p,{children:"Version 5.0.0 updated audio interface, instrument bundles are no longer dependant of the main lib and can be loaded in browser environment as independent modules."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["How to add and use instrument, see sections ",(0,t.jsx)(n.a,{href:"#instruments",children:"Instruments"})]}),"\n",(0,t.jsxs)(n.li,{children:["How to add and use instrument browser version, see sections ",(0,t.jsx)(n.a,{href:"#browser-modules",children:"Browser Modules"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"help-wanted",children:"Help Wanted"}),"\n",(0,t.jsxs)(n.p,{children:['If someone has piano or keyboard and can record samples for me I\'d be happy to add a new instrument.\r\nAbout ten mp3 samples between C2 to C6 would be fine (named "E2.mp3", etc).\r\nMy email can be found on ',(0,t.jsx)(n.a,{href:"https://github.com/pahkasoft",children:"GitHub"})," (visible for signed in users)."]}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm i @tspro/web-music-score\n"})}),"\n",(0,t.jsx)(n.h2,{id:"import",children:"Import"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'// Import core module, it does not contain much.\r\nimport * as Core from "@tspro/web-music-score/core";\r\n\r\n// Import audio module, it can play notes.\r\nimport * as Audio from "@tspro/web-music-score/audio";\r\n\r\n// Import theory module, it contains all music theory stuff.\r\nimport * as Theory from "@tspro/web-music-score/theory";\r\n\r\n// Import score module, it contains music score stuff.\r\nimport * as Score from "@tspro/web-music-score/score";\r\n\r\n// Import react-ui module, it contains all react components.\r\n// React is peer dependency "^18.0.0 || ^19.0.0".\r\nimport * as ScoreUI from "@tspro/web-music-score/react-ui";\r\n\r\n// Import pieces module, it contains demo songs.\r\nimport * as Pieces from "@tspro/web-music-score/pieces";\r\n\r\n// You can also use require\r\nconst Score = require("@tspro/web-music-score/score");\n'})}),"\n",(0,t.jsx)(n.h2,{id:"browser-modules",children:"Browser Modules"}),"\n",(0,t.jsxs)(n.p,{children:["IIFE bundle for browser use is available via ",(0,t.jsx)(n.code,{children:"unpkg"})," and ",(0,t.jsx)(n.code,{children:"jsdeliv"})," cdn's. This bundle\r\ndeclares global name ",(0,t.jsx)(n.code,{children:"WebMusicScore"})," that contains ",(0,t.jsx)(n.code,{children:"Core"}),", ",(0,t.jsx)(n.code,{children:"Audio"}),", ",(0,t.jsx)(n.code,{children:"Theory"}),", ",(0,t.jsx)(n.code,{children:"Score"}),",\r\nand ",(0,t.jsx)(n.code,{children:"Pieces"})," as corresponding subpath modules."]}),"\n",(0,t.jsxs)(n.p,{children:["React module ",(0,t.jsx)(n.code,{children:"react-ui"})," is not included available for browser usage."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'\x3c!--\r\n    It is recommended to use exact version number and direct link to the bundle so\r\n    that if something breaks between versions then your web site does not stop working.\r\n--\x3e\r\n<script src="https://unpkg.com/@tspro/web-music-score@5.5.0/dist/iife/index.global.js"><\/script>\r\n<script src="https://cdn.jsdelivr.net/npm/@tspro/web-music-score@5.5.0/dist/iife/index.global.js"><\/script>\r\n\r\n\x3c!--\r\n    Classical guitar now also available for browser module.\r\n--\x3e\r\n<script src="https://unpkg.com/@tspro/web-music-score@5.5.0/dist/iife/audio-cg.global.js"><\/script>\r\n<script src="https://cdn.jsdelivr.net/npm/@tspro/web-music-score@5.5.0/dist/iife/audio-cg.global.js"><\/script>\r\n\r\n<script>\r\n    // The lib is available via global name WebMusicScore.\r\n    const { Core, Audio, Theory, Score, Pieces } = window.WebMusicScore;\r\n\r\n    // Classical guitar instrument is available via global name Audio_CG.\r\n    const { ClassicalGuitar } = window.Audio_CG;\r\n\r\n    // Add and use classical guitar instrument.\r\n    Audio.addInstrument(ClassicalGuitar);\r\n<\/script>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,t.jsx)(n.p,{children:"Following is introduction to the main interface with the help of simple examples."}),"\n",(0,t.jsxs)(n.h3,{id:"using-documentbuilder",children:["Using ",(0,t.jsx)(n.code,{children:"DocumentBuilder"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'let doc = new Score.DocumentBuilder()\r\n    .addScoreConfiguration({ type: "staff", clef: "G", isOctavewDown: true })\r\n    .setMeasuresPerRow(4)\r\n    .addMeasure()\r\n    .addNote(1, "C3", "4n")\r\n    .addChord(1, ["C3", "E3", "G3"], "4n").addLabel("chord", "C")\r\n    .addRest(1, "4n")\r\n    // etc.\r\n    .getDEocument();\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Hint:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"    // In following examples this:\r\n    .addNote(...)\r\n\r\n    // means call to the DocumentBuilder object:\r\n    documentBuilder.addNote(...)\r\n\r\n    // It is just shortened for simplicity.\n"})}),"\n",(0,t.jsx)(n.h3,{id:"set-score-configuration",children:"Set Score Configuration"}),"\n",(0,t.jsx)(n.p,{children:"New score configuration takes place in the first measure of next row."}),"\n",(0,t.jsx)(n.h4,{id:"using-preset-values",children:"Using preset values"}),"\n",(0,t.jsxs)(n.p,{children:["For staff presets you can use ",(0,t.jsx)(n.code,{children:"Score.StaffPreset"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Score.StaffPreset.Treble"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"treble"'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.setScoreConfiguration("treble")         // Staff with treble G-clef.\r\n.setScoreConfiguration("bass")           // Staff with bass F-clef.\r\n.setScoreConfiguration("grand")          // Both treble and bas staves.\r\n.setScoreConfiguration("guitarTreble")   // Same as `Treble` but one octave down.\r\n.setScoreConfiguration("guitarTab")      // Guitar tab only.\r\n.setScoreConfiguration("guitarCombined") // Treble and tab for guitar.\n'})}),"\n",(0,t.jsx)(n.h4,{id:"using-configuration-objects",children:"Using configuration objects"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.setScoreConfiguration({ type: "staff", clef: "G"}) // Staff with treble G-clef.\r\n.setScoreConfiguration({ type: "staff", clef: "F"}) // Staff with bass F-clef.\r\n.setScoreConfiguration({\r\n    type: "staff",\r\n    clef: "G",           // G-clef.\r\n    isOctaveDown: false, // (optional) octave down.\r\n    name: "staff1",      // (optional) staff name.\r\n    minNote: "C2",       // (optional) min allowed note.\r\n    maxNote: "C6",       // (optional) max allowed note.\r\n    voiceId: [0, 1],     // (optional) only present voices 0 and 1 in this staff.\r\n    instrument: "Piano"  // (optional) consecutive staves/tabs with same name are grouped together.\r\n})\r\n.setScoreConfiguration([\r\n    { type: "staff", clef: "G", grandId: "grand1" },\r\n    { type: "staff", clef: "F", grandId: "grand1" }\r\n]) // Grand staff\r\n.setScoreConfiguration([\r\n    { type: "staff", clef: "G", isOctaveDown: true },\r\n    { type: "tab", tuning: "Drop D" }\r\n]) // Staff and tab for guitar, tab with Drop D tuning.\r\n.setScoreConfiguration(\r\n{\r\n    type: "tab",\r\n    name: "tab1",\r\n    tuning: ["E2", "A2", "D3", "G3", "B3", "E4"],\r\n    voiceId: 4\r\n}) // Tab with guitar tuning, present only voiceId 4 in this tab.\n'})}),"\n",(0,t.jsx)(n.p,{children:"Instrument name hint!"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"!Piano"'})," hides name."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"!{Piano"'})," hides both name and left brace of the group."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"set-automatic-measures-per-row",children:"Set Automatic Measures Per Row"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:".setMesuresPerRow(4)        // Set 4 measures per row\r\n.setMesuresPerRow(Infinity) // Turn off auto row change (default)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"set-header",children:"Set Header"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.setHeader("Title", "Composer", "Arranger") // Set title, composer and arranger\r\n.setHeader("Title")                         // Set title only\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-measure",children:"Add Measure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:".addMeasure() // Add new measure\n"})}),"\n",(0,t.jsx)(n.h3,{id:"end-row",children:"End Row"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:".endRow() // Manually induce row change. Next measure that is added will begin new row.\n"})}),"\n",(0,t.jsx)(n.h3,{id:"set-key-signature",children:"Set Key Signature"}),"\n",(0,t.jsxs)(n.p,{children:["For scale type you can use ",(0,t.jsx)(n.code,{children:"Theory.ScaleType"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Theory.ScaleType.Major"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"Major"'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.setKeySignature("C Major")            // Create C Major scale.\r\n.setKeySignature("D", "Major")         // Create D Major scale.\r\n.setKeySignature("A", "Natural Minor") // Create A natural minor scale.\n'})}),"\n",(0,t.jsx)(n.h3,{id:"set-time-signature",children:"Set Time Signature"}),"\n",(0,t.jsxs)(n.p,{children:["For time signature you can use ",(0,t.jsx)(n.code,{children:"Theory.TimeSignatures"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Theory.TimeSignatures._2_4"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"2/4"'}),")."]}),"\n",(0,t.jsxs)(n.p,{children:["For optional beam grouping argument for 5/8 and 7/8 time signatures you can use ",(0,t.jsx)(n.code,{children:"Theory.BeamGrouping"}),"\r\nenum values (e.g. ",(0,t.jsx)(n.code,{children:"Theory.BeamGrouping._2_2_3"}),") or corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"2-2-3"'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.setTimeSignature("2/4")          // Set 2/4 time signature.\r\n.setTimeSignature("3/4")          // Set 3/4 time signature.\r\n.setTimeSignature("4/4")          // Set 4/4 time signature.\r\n.setTimeSignature("3/8")          // Set 3/8 time signature.\r\n.setTimeSignature("5/8", "2-3")   // Set 5/8 time signature. Available beam groupings are "2-3" (default) and "3-2".\r\n.setTimeSignature("6/8")          // Set 6/8 time signature.\r\n.setTimeSignature("7/8", "2-2-3") // Set 7/8 time signature. Available beam groupings are "2-2-3" (default) and "3-2-2".\r\n.setTimeSignature("9/8")          // Set 9/8 time signature.\r\n.setTimeSignature(12, 8)          // Set 12/8 time signature using number arguments.\n'})}),"\n",(0,t.jsx)(n.h3,{id:"set-tempo",children:"Set Tempo"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.setTempo(100, "4n") // 100 beats per minute, beat length is quarter note.\r\n.setTempo(80, "4..") // 100 beats per minute, beat length is double dotted quarter note.\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-note",children:"Add Note"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addNote(0, "C4", "1n")                     // Add whole note "C4"\r\n.addNote(0, ["C4", "D4", "G4"], "1n")       // Add three notes "C4", "D4", "G4" seuqentially (no chord).\r\n.addNote(0, "Bb4", "2..")                   // Add double dotted half note "Bb4"\r\n.addNote(0, "C4", "4n", { stem: "up" })     // Stem direction Up (could be also Down)\r\n.addNote(0, "C4", "4n", { staccate: true }) // Show staccato dot and play in short\r\n.addNote(0, "C4", "4n", { diamond: true })  // Show diamond shaped note head\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-chord",children:"Add Chord"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addChord(1, ["C3", "E3", "G3"], "1n", { arpeggio: "down" }) // Create whole note chord of three notes, played in arpeggio.\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-rest",children:"Add Rest"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addRest(0, "16n")                    // Add sixteenth rest\r\n.addRest(0, "4.")                     // Add dotted quarter rest\r\n.addRest(0, "4n", { staffPos: "D3" }) // Draw this quarter rest at level of "D3" note.\r\n.addRest(0, "4n", { hide: true })     // Invisible rest affects playing\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-tuplet",children:"Add Tuplet"}),"\n",(0,t.jsx)(n.p,{children:"This generic function works for any tuplet:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'// Example: add triplet\r\n.addTuplet(0, { parts: 3, inTimeOf: 2 }, notes => {\r\n    notes.addNote("G3", "8n")\r\n    notes.addNote("B3", "8n")\r\n    notes.addNote("D4", "8n")\r\n})\n'})}),"\n",(0,t.jsx)(n.p,{children:'Triplets can also be created using note length (e.g. NoteLength.EighthTriplet or "8t").'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'// Example: add triplet using triplet note length.\r\n.addNote(0, ["G3", "B3", "D4"], "8t")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-lyrics",children:"Add Lyrics"}),"\n",(0,t.jsxs)(n.p,{children:["For lyrics align you can use ",(0,t.jsx)(n.code,{children:"Score.LyricsAlign"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Score.LyricsAlign.Left"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"left"'}),")."]}),"\n",(0,t.jsxs)(n.p,{children:["For lyrics hyphen you can use ",(0,t.jsx)(n.code,{children:"Score.LyricsHyphen"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Score.LyricsHyphen.Hyphen"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"-"'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addLyrics(1, "4n", "La")                      // Add lyrics text/syllable "La", quarter note length, verse 1.\r\n.addLyrics(1, "4n", ["La", "la", "la", "la"])  // Add multiple lysics texts/syllables, each quarter note length, verse 1.\r\n.addLyrics(2, "4n", "La", { align: "left" })   // Left align lyrics text/syllable.\r\n.addLyrics(2, "4n", "La", { align: "center" }) // Center align lyrics text/syllable.\r\n.addLyrics(2, "4n", "La", { align: "right" })  // Right align lyrics text/syllable.\r\n.addLyrics(3, "4n", "La", { hyphen: "-" })     // Add hyphen (short line \'-\') centered between this and next syllable.\r\n.addLyrics(3, "4n", "La", { hyphen: "---" })   // Add extender (long line) between this and next syllable.\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-fermata",children:"Add Fermata"}),"\n",(0,t.jsxs)(n.p,{children:["For fermata you can use ",(0,t.jsx)(n.code,{children:"Score.Fermata"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Score.Fermata.AtNote"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"atNote"'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addNote(0, "C3", "2n").addFermata("atNote") // Add fermata at note.\r\n.addFermata("atMeasureEnd")                  // Add fermata at measure end.\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-navigation",children:"Add Navigation"}),"\n",(0,t.jsx)(n.p,{children:"Add navigation element to measure."}),"\n",(0,t.jsxs)(n.p,{children:["For navigation you can use ",(0,t.jsx)(n.code,{children:"Score.Navigation"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Score.Navigation.DC_al_Fine"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"D.C. al Fine"'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addNavigation("D.C. al Fine") // Add "D.C. al Fine"\r\n.addNavigation("D.C. al Coda") // Add "D.C. al Coda"\r\n.addNavigation("D.S. al Fine") // Add "D.S. al Fine"\r\n.addNavigation("D.S. al Coda") // Add "D.S. al Coda"\r\n.addNavigation("Coda")         // Add "Coda"\r\n.addNavigation("toCoda")       // Ass "toCoda"\r\n.addNavigation("Segno")        // Add "Segno" symbol\r\n.addNavigation("Fine")         // Add "Fine"\r\n.addNavigation("startRepeat")  // Add repeat sections start position\r\n.addNavigation("endRepeat", 3) // Add repeat sections end position, repeat sectionplayed 3 times\r\n.addNavigation("ending", 1, 2) // Add ending, played on 1st and 2nd run\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-annotation",children:"Add Annotation"}),"\n",(0,t.jsx)(n.p,{children:"Add annotation text anchored to previously added note, chord or rest."}),"\n",(0,t.jsxs)(n.p,{children:["For annotation you can use ",(0,t.jsx)(n.code,{children:"Score.Annotation"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Score.Annotation.Tempo"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"tempo"'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addAnnotation("dynamics", "ff")  // Add dynamics annotation text.\r\n.addAnnotation("tempo", "accel.") // Add tempo annotation text.\r\n.addAnnotation("ppp")             // Add annotation text, detect annotation type automatically (incomplete list of annotations supported).\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-label",children:"Add Label"}),"\n",(0,t.jsx)(n.p,{children:"Add text label anchored to previously added note, chord or rest."}),"\n",(0,t.jsxs)(n.p,{children:["For label you can use ",(0,t.jsx)(n.code,{children:"Score.Label"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Score.Label.Chord"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"chord"'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addLabel("chord", "Am") // Add chord label, positioned above staff by default.\r\n.addLabel("note", "C#5") // Add note label, positioned below staff by default.\n'})}),"\n",(0,t.jsx)(n.h3,{id:"positioning-elements",children:"Positioning Elements"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"addLyrics"}),", ",(0,t.jsx)(n.code,{children:"addFermata"}),", ",(0,t.jsx)(n.code,{children:"addNavigation"}),", ",(0,t.jsx)(n.code,{children:"addAnnotation"})," and ",(0,t.jsx)(n.code,{children:"addLabel"})," functions have alternate versions\r\n",(0,t.jsx)(n.code,{children:"addLyricsTo"}),", ",(0,t.jsx)(n.code,{children:"addFermataTo"}),", ",(0,t.jsx)(n.code,{children:"addNavigationTo"}),", ",(0,t.jsx)(n.code,{children:"addAnnotationTo"})," and ",(0,t.jsx)(n.code,{children:"addLabelTo"})," that contain extra first argument."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addLabelTo(0, "chord", "Am")        // Add label to top (id 0) staff/tab.\r\n.addLabelTo([0, 1], "chord", "Am")   // Add label to top two (id 0 and 1) staves/tabs.\r\n.addLabelTo("staff1", "chord", "Am") // Add label to staff/tab/group named "staff1".\r\n.addLabelTo("grp1", "chord", "Am")   // Add label to staff/tab/group named "grp1".\r\n\r\n// Create staff groups\r\n.addStaffGroup("grp1", 0, "above")                 // This staff group layouts elements above top staff/tab.\r\n.addStaffGroup("grp2", [1], "below")               // This staff group layouts elements below second staff/tab from top.\r\n.addStaffGroup("grp3", "tab1", "both")             // This staff group layouts elements above and below tab named "tab1".\r\n.addStaffGroup("grp4", ["staff1", "tab1"], "auto") // This staff group layouts elements to their default locations in "staff1" and "tab1".\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-extension",children:"Add Extension"}),"\n",(0,t.jsx)(n.p,{children:"Adds extension line to previously added label or annotation."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addExtension(ext => ext.notes("1n", 2))    // Add extension line, length is 2 whole notes\r\n.addExtension(ext => ext.measures(3).hide())      // Add extension line, length is 3 measures, hidden\r\n.addExtension(ext => ext.measures(1).notes("8n")) // Add extension line, length is 1 measure + 1 eigth note\r\n.addExtension(ext => ext.infinity())              // Add extension line, length is as long as possible\r\n.addExtension()                                   // Add extension line, length is as long as possible\n'})}),"\n",(0,t.jsx)(n.h3,{id:"add-connective-tie-slur-slide",children:"Add Connective (tie, slur, slide)"}),"\n",(0,t.jsxs)(n.p,{children:["For connective you can use ",(0,t.jsx)(n.code,{children:"Score.Connective"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Score.Connective.Tie"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"tie"'}),")."]}),"\n",(0,t.jsxs)(n.p,{children:["For note anchor you can use ",(0,t.jsx)(n.code,{children:"Score.NoteAnchor"})," enum values (e.g. ",(0,t.jsx)(n.code,{children:"Score.NoteAnchor.Above"}),")\r\nor corresponding string values (e.g. ",(0,t.jsx)(n.code,{children:'"above"'}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addConnective("tie")    // Add tie\r\n.addConnective("slur")   // Add slur\r\n.addConnective("slide")  // Add slide\r\n.addConnective("tie", 3) // Add tie with span value (describes how many notes the connective is across).\r\n.addConnective("slur", 2, "above")   // Add slur connected above note.\r\n.addConnective("slur", 2, "below")   // Add slur connected below note.\r\n.addConnective("slur", 2, "center")  // Add slur connected next to note.\r\n.addConnective("slur", 2, "stemTip") // Add slur connected at stem tip.\n'})}),"\n",(0,t.jsx)(n.h3,{id:"guitar-tab",children:"Guitar Tab"}),"\n",(0,t.jsx)(n.p,{children:"This library has simple guitar tab rendering."}),"\n",(0,t.jsxs)(n.p,{children:["Add notes with ",(0,t.jsx)(n.code,{children:"string"})," property to specify at what string the fret number is rendered in the tab."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'.addNote(0, "G3", "8n", { string: 3 })\r\n.addChord(0, ["E4", "C3"], "8n", { string: [1, 5] })\n'})}),"\n",(0,t.jsx)(n.h3,{id:"beams",children:"Beams"}),"\n",(0,t.jsx)(n.p,{children:"Beams are detected using beam grouping logic that is defined for each time signature.\r\nThese are the beam groupings for each time signature."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Time signature"}),(0,t.jsx)(n.th,{children:"Beam grouping"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"2/4"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"2-2"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"3/4"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"2-2-2"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"4/4"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"4-4"})," and ",(0,t.jsx)(n.code,{children:"2-2-2-2"})," together"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"3/8"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"3"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"5/8"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"2-3"})," or ",(0,t.jsx)(n.code,{children:"3-2"}),", user selectable"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"6/8"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"3-3"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"7/8"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"2-2-3"})," or ",(0,t.jsx)(n.code,{children:"3-2-2"}),", user selectable"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"9/8"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"3-3-3"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"12/8"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"3-3-3-3"})})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["How to set beam grouping for ",(0,t.jsx)(n.code,{children:"5/8"})," and ",(0,t.jsx)(n.code,{children:"7/8"})," time signatures,\r\nsee ",(0,t.jsx)(n.a,{href:"#set-time-signature",children:"Set Time Signature"})," section above."]}),"\n",(0,t.jsx)(n.h3,{id:"instruments",children:"Instruments"}),"\n",(0,t.jsxs)(n.p,{children:["Default instrument ",(0,t.jsx)(n.code,{children:"Synthesizer"})," is available out of the box.\r\nOther instruments need to be registered manually."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Classical Guitar"})," is available via ",(0,t.jsx)(n.code,{children:"audio-cg"})," module."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'// Import classical guitar instrument.\r\nimport { ClassicalGuitar } from "@tspro/web-music-score/audio-cg";\r\n\r\n// Add and use classical guitar instrument.\r\nAudio.addInstrument(ClassicalGuitar);\n'})}),"\n",(0,t.jsx)(n.p,{children:"You can easily create and register your own instrument."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'class MyCoolInstrument implements Audio.Instrument {\r\n    constructor() { }\r\n    getName() { return "My Cool Instrument"; }\r\n    playNote(note: string, duration: number, linearVolume: number) { }\r\n    stop() { }\r\n}\r\n\r\n// Add and use my cool instrument.\r\nAudio.addInstrument(new MyCoolInstrument());\n'})}),"\n",(0,t.jsx)(n.h3,{id:"play-document",children:"Play Document"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Simple play\r\ndoc.play();\r\n\r\n// More playback options:\r\nlet player = new Score.MPlayer(doc);\r\n\r\nplayer.play();\r\nplayer.pause();\r\nplayer.stop();\r\n\r\nScore.MPlayer.stopAll();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"viewing-using-react-jsxtsx",children:"Viewing Using React JSX/TSX"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Draw document\r\n<ScoreUI.MusicScoreView doc={doc} />\r\n\r\n// Show playback buttons\r\n<ScoreUI.PlaybackButtons doc={doc} singlePlayStop /> // Single play/stop button.\r\n<ScoreUI.PlaybackButtons doc={doc} playStop />       // Play and stop buttons.\r\n<ScoreUI.PlaybackButtons doc={doc} playPauseStop />  // Play, pause and Stop buttons.\r\n<ScoreUI.PlaybackButtons doc={doc} />                // Default is play, pause and Stop buttons.\n"})}),"\n",(0,t.jsx)(n.p,{children:"Hint! Bootstrap is used for better visual appearance."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Install bootstrap: ",(0,t.jsx)(n.code,{children:"npm install bootstrap"})]}),"\n",(0,t.jsxs)(n.li,{children:["Import in app entry: ",(0,t.jsx)(n.code,{children:'import "bootstrap/dist/css/bootstrap.min.css";'})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"viewing-using-plain-jsts",children:"Viewing Using Plain JS/TS"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'\x3c!-- Add canvas --\x3e\r\n<canvas id="canvasId"></canvas>\r\n\r\n\x3c!-- Add play button --\x3e\r\n<button id="playButtonId"></button>\r\n\x3c!-- Add pause button --\x3e\r\n<button id="pauseButtonId"></button>\r\n\x3c!-- Add stop button --\x3e\r\n<button id="stopButtonId"></button>\r\n\x3c!-- Or add combined play/stop button --\x3e\r\n<button id="playStopButtonId"></button>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'// Draw document\r\nlet r = new Score.MRenderContext().\r\n    setCanvas("canvasId").\r\n    setDocument(doc).\r\n    draw();\r\n\r\n// Add playback buttons\r\nlet p = new Score.MPlaybackButtons().\r\n    setPlayButton("playButtonId").\r\n    setPauseButton("pauseButtonId").\r\n    setStopButton("stopButtonId").\r\n    setDocument(doc);\r\n\r\n// You can also set combined play/stop button.\r\np.setPlayStopButton("playStopButtonId");\r\n\r\n// You can also pass HTMLButtonElement instead of element id.\r\np.setPlayButton(playButtonElement);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"musicerror",children:"MusicError"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"try {\r\n    // Do your music stuff\r\n}\r\ncatch (e) {\r\n    if(e instanceof Core.MusicError) {\r\n        // There was music error.\r\n    }\r\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"compatibility",children:"Compatibility"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This library is bundled to ESM, CJS and IIFE formats."}),"\n",(0,t.jsx)(n.li,{children:"Target is to support ES6/ES2015."}),"\n",(0,t.jsx)(n.li,{children:"No polyfills are included."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"While designed for compatibility in mind, the library has not been explicitly tested against specific Node.js or browser versions."}),"\n",(0,t.jsx)(n.h2,{id:"report-a-bug",children:"Report a Bug"}),"\n",(0,t.jsx)(n.p,{children:"Found a bug or unexpected behavior? Suggest a feature or impovement?"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/pahkasoft/web-music-score/issues/new/choose",children:"Please open a new issue."})}),"\n",(0,t.jsx)(n.p,{children:"Thanks for helping improve the project!"}),"\n",(0,t.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,t.jsxs)(n.p,{children:["This project is licensed under the ",(0,t.jsx)(n.a,{href:"https://mit-license.org/",children:"MIT License"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"It also bundles following libs:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/Tonejs/Tone.js",children:"Tone.js"})," library,\r\nwhich is licensed under the ",(0,t.jsx)(n.a,{href:"https://opensource.org/license/mit",children:"MIT License"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/simbo/color-name-to-code",children:"Color Name to Code"})," library,\r\nwhich is licensed under the ",(0,t.jsx)(n.a,{href:"http://simbo.mit-license.org/",children:"MIT \xa9 Simon Lepel"}),"."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>a});var s=r(6540);const t={},i=s.createContext(t);function d(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);